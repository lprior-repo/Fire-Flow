dataContractSpecification: 0.9.3
id: bitter-truth-common
info:
  title: Bitter Truth Common Types
  version: 1.0.0
  description: Shared types for all bitter-truth tools

models:
  ExecutionContext:
    description: Context passed to every tool invocation
    type: object
    fields:
      trace_id:
        type: string
        description: Trace ID for distributed tracing (from Kestra execution.id)
        required: true
      dry_run:
        type: boolean
        description: If true, tool validates input but performs no side effects
        required: false
      timeout_seconds:
        type: integer
        description: Timeout in seconds
        required: false

  ToolResponse:
    description: Standard wrapper for all tool outputs
    type: object
    fields:
      success:
        type: boolean
        description: Whether the tool succeeded
        required: true
      data:
        type: object
        description: The actual output data (tool-specific)
        required: false
      error:
        type: string
        description: Error message if success=false
        required: false
      trace_id:
        type: string
        description: Echo back trace_id for correlation
        required: false
      duration_ms:
        type: double
        description: Execution duration in milliseconds
        required: false
