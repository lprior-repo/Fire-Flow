dataContractSpecification: 0.9.3
id: bitter-truth-tool-echo
info:
  title: Echo Tool Contract
  version: 1.0.0
  description: Echo tool - proof of concept for bitter-truth pattern
  owner: bitter-truth

servers:
  local:
    type: local
    path: /tmp/output.json
    format: json

models:
  # The actual output structure (ToolResponse wrapping EchoOutput)
  EchoResponse:
    description: Full response from the echo tool
    type: object
    fields:
      success:
        type: boolean
        description: Whether the tool succeeded
        required: true
      data:
        type: object
        description: The EchoOutput data
        required: false
        fields:
          echo:
            type: string
            description: The original message
            required: true
          reversed:
            type: string
            description: The message reversed
            required: true
          length:
            type: integer
            description: Length of the message
            required: true
            minimum: 0
          was_dry_run:
            type: boolean
            description: Whether this was a dry-run
            required: true
      error:
        type: string
        description: Error message if success=false
        required: false
      trace_id:
        type: string
        description: Trace ID for correlation
        required: false
      duration_ms:
        type: double
        description: Execution duration in milliseconds
        required: false
